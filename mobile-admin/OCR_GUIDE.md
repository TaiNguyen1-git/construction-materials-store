# ğŸ“· HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng OCR (QuÃ©t HÃ³a ÄÆ¡n)

## ğŸ¯ TÃ­nh NÄƒng

TÃ­nh nÄƒng OCR (Optical Character Recognition) cho phÃ©p báº¡n:
- âœ… **QuÃ©t hÃ³a Ä‘Æ¡n tá»± Ä‘á»™ng** tá»« camera hoáº·c thÆ° viá»‡n áº£nh
- âœ… **TrÃ­ch xuáº¥t thÃ´ng tin** nhÆ°: Sá»‘ hÃ³a Ä‘Æ¡n, ngÃ y, nhÃ  cung cáº¥p, sáº£n pháº©m, giÃ¡
- âœ… **Táº¡o nhÃ¡p hÃ³a Ä‘Æ¡n** tá»± Ä‘á»™ng tá»« káº¿t quáº£ quÃ©t
- âœ… **ThÃªm sáº£n pháº©m má»›i** tá»± Ä‘á»™ng náº¿u chÆ°a cÃ³ trong há»‡ thá»‘ng
- âœ… **ÄÃ¡nh giÃ¡ Ä‘á»™ chÃ­nh xÃ¡c** cá»§a káº¿t quáº£ quÃ©t

## ğŸš€ CÃ¡ch Sá»­ Dá»¥ng

### 1. Má»Ÿ MÃ n HÃ¬nh OCR Scanner

CÃ³ 2 cÃ¡ch:

**CÃ¡ch 1**: Tá»« Dashboard
- VÃ o Dashboard
- Chá»n "QuÃ©t HÃ³a ÄÆ¡n" trong Quick Actions (icon scan mÃ u vÃ ng)

**CÃ¡ch 2**: Tá»« bottom tab
- Tab cÃ³ icon `scan`

### 2. Cáº¥p Quyá»n Camera

Láº§n Ä‘áº§u sá»­ dá»¥ng, á»©ng dá»¥ng sáº½ yÃªu cáº§u:
- âœ… Quyá»n truy cáº­p **Camera** (Ä‘á»ƒ chá»¥p áº£nh)
- âœ… Quyá»n truy cáº­p **ThÆ° viá»‡n áº£nh** (Ä‘á»ƒ chá»n áº£nh cÃ³ sáºµn)

**LÆ°u Ã½**: Pháº£i cáº¥p quyá»n Ä‘á»ƒ sá»­ dá»¥ng tÃ­nh nÄƒng!

### 3. Chá»¥p Hoáº·c Chá»n áº¢nh HÃ³a ÄÆ¡n

#### Chá»¥p áº¢nh Má»›i
1. Äáº·t hÃ³a Ä‘Æ¡n trong khung hÃ¬nh chá»¯ nháº­t (guide frame)
2. Äáº£m báº£o Ã¡nh sÃ¡ng Ä‘á»§, hÃ³a Ä‘Æ¡n rÃµ rÃ ng
3. Nháº¥n nÃºt chá»¥p (nÃºt trÃ²n lá»›n mÃ u xanh)

#### Chá»n Tá»« ThÆ° Viá»‡n
1. Nháº¥n icon `images` (gÃ³c dÆ°á»›i trÃ¡i)
2. Chá»n áº£nh hÃ³a Ä‘Æ¡n tá»« thÆ° viá»‡n
3. Crop áº£nh náº¿u cáº§n

#### Tips Chá»¥p áº¢nh Tá»‘t
- âœ… Äáº·t hÃ³a Ä‘Æ¡n trÃªn ná»n pháº³ng, sÃ¡ng
- âœ… TrÃ¡nh bÃ³ng má», má» áº£nh
- âœ… Chá»¥p tháº³ng gÃ³c, khÃ´ng nghiÃªng
- âœ… Äáº£m báº£o chá»¯ rÃµ rÃ ng, khÃ´ng bá»‹ nhÃ²e
- âŒ TrÃ¡nh chá»¥p trong mÃ´i trÆ°á»ng tá»‘i
- âŒ TrÃ¡nh chá»¥p khi hÃ³a Ä‘Æ¡n bá»‹ nhÃ u, rÃ¡ch

### 4. Chá»n Loáº¡i QuÃ©t

Sau khi chá»¥p/chá»n áº£nh, chá»n loáº¡i quÃ©t:

**HÃ³a ÄÆ¡n** (Máº·c Ä‘á»‹nh)
- TrÃ­ch xuáº¥t thÃ´ng tin cáº¥u trÃºc: Sá»‘ HÄ, ngÃ y, NCC, sáº£n pháº©m, giÃ¡
- Tá»± Ä‘á»™ng táº¡o nhÃ¡p hÃ³a Ä‘Æ¡n trong há»‡ thá»‘ng
- PhÃ¹ há»£p vá»›i: HÃ³a Ä‘Æ¡n VAT, phiáº¿u xuáº¥t kho

**VÄƒn Báº£n**
- Chá»‰ trÃ­ch xuáº¥t text thuáº§n tÃºy
- KhÃ´ng phÃ¢n tÃ­ch cáº¥u trÃºc
- PhÃ¹ há»£p vá»›i: Ghi chÃº, tÃ i liá»‡u vÄƒn báº£n

### 5. Nháº¥n "QuÃ©t" VÃ  Äá»£i Káº¿t Quáº£

- áº¢nh Ä‘Æ°á»£c upload lÃªn server
- AI xá»­ lÃ½ vÃ  trÃ­ch xuáº¥t thÃ´ng tin (5-10 giÃ¢y)
- Hiá»ƒn thá»‹ káº¿t quáº£ vá»›i Ä‘á»™ chÃ­nh xÃ¡c

## ğŸ“Š Hiá»ƒu Káº¿t Quáº£ OCR

### Äá»™ ChÃ­nh XÃ¡c (Confidence Score)

**Thanh mÃ u hiá»ƒn thá»‹ Ä‘á»™ tin cáº­y:**
- ğŸŸ¢ **> 80%**: Ráº¥t chÃ­nh xÃ¡c - CÃ³ thá»ƒ dÃ¹ng ngay
- ğŸŸ¡ **60-80%**: Táº¡m cháº¥p nháº­n - NÃªn kiá»ƒm tra láº¡i
- ğŸ”´ **< 60%**: Tháº¥p - Cáº§n xem xÃ©t ká»¹ vÃ  sá»­a thá»§ cÃ´ng

### ThÃ´ng Tin TrÃ­ch Xuáº¥t

**Vá»›i loáº¡i "HÃ³a ÄÆ¡n", há»‡ thá»‘ng trÃ­ch xuáº¥t:**

1. **ThÃ´ng tin chung**
   - Sá»‘ hÃ³a Ä‘Æ¡n
   - NgÃ y phÃ¡t hÃ nh
   - NhÃ  cung cáº¥p

2. **Danh sÃ¡ch sáº£n pháº©m**
   - TÃªn sáº£n pháº©m
   - Sá»‘ lÆ°á»£ng
   - ÄÆ¡n giÃ¡
   - ThÃ nh tiá»n

3. **Tá»•ng tiá»n**
   - Tá»•ng cá»™ng tá»« hÃ³a Ä‘Æ¡n

### VÄƒn Báº£n Gá»‘c

Pháº§n "VÄƒn Báº£n Gá»‘c" hiá»ƒn thá»‹ toÃ n bá»™ text Ä‘Æ°á»£c quÃ©t, giÃºp báº¡n:
- Kiá»ƒm tra xem cÃ³ thÃ´ng tin nÃ o bá»‹ thiáº¿u
- So sÃ¡nh vá»›i dá»¯ liá»‡u Ä‘Ã£ trÃ­ch xuáº¥t
- Copy text náº¿u cáº§n

## ğŸ’¾ Xá»­ LÃ½ Sau QuÃ©t

### Náº¿u Káº¿t Quáº£ Tá»‘t (> 80%)

**Tá»± Ä‘á»™ng:**
- âœ… Há»‡ thá»‘ng táº¡o **nhÃ¡p hÃ³a Ä‘Æ¡n** trong database
- âœ… Tá»± Ä‘á»™ng tÃ¬m/táº¡o nhÃ  cung cáº¥p
- âœ… Tá»± Ä‘á»™ng tÃ¬m sáº£n pháº©m trong há»‡ thá»‘ng
- âœ… Táº¡o má»›i sáº£n pháº©m náº¿u chÆ°a cÃ³ (Ä‘Ã¡nh dáº¥u inactive Ä‘á»ƒ review)

**Báº¡n cáº§n lÃ m:**
1. Nháº¥n "LÆ°u Káº¿t Quáº£" Ä‘á»ƒ confirm
2. VÃ o menu "HÃ³a ÄÆ¡n" Ä‘á»ƒ xem nhÃ¡p
3. Kiá»ƒm tra vÃ  duyá»‡t hÃ³a Ä‘Æ¡n

### Náº¿u Káº¿t Quáº£ KÃ©m (< 80%)

**Cáº£nh bÃ¡o:**
- âš ï¸ "Low confidence score - please review carefully"
- âš ï¸ NÃªn kiá»ƒm tra ká»¹ trÆ°á»›c khi dÃ¹ng

**Báº¡n nÃªn:**
1. So sÃ¡nh vá»›i hÃ³a Ä‘Æ¡n gá»‘c
2. Sá»­a thÃ´ng tin sai
3. QuÃ©t láº¡i náº¿u káº¿t quáº£ quÃ¡ tá»‡

## ğŸ”„ Thao TÃ¡c

### QuÃ©t Láº¡i
- Nháº¥n "QuÃ©t Láº¡i" náº¿u káº¿t quáº£ khÃ´ng nhÆ° mong muá»‘n
- Camera sáº½ má»Ÿ láº¡i Ä‘á»ƒ chá»¥p áº£nh khÃ¡c

### LÆ°u Káº¿t Quáº£
- Nháº¥n "LÆ°u Káº¿t Quáº£" Ä‘á»ƒ táº¡o hÃ³a Ä‘Æ¡n nhÃ¡p
- Chuyá»ƒn Ä‘áº¿n mÃ n hÃ¬nh HÃ³a ÄÆ¡n Ä‘á»ƒ xem vÃ  chá»‰nh sá»­a

### Há»§y
- Nháº¥n "X" Ä‘á»ƒ há»§y vÃ  quay láº¡i mÃ n hÃ¬nh trÆ°á»›c

## ğŸ”§ Backend API

### Endpoint

**POST** `/api/ocr/invoice`

**Request:**
```javascript
FormData {
  image: File (jpg/png),
  invoiceType: 'SUPPLIER' | 'CUSTOMER' // Optional
}
```

**Response:**
```json
{
  "success": true,
  "data": {
    "ocrResult": {
      "extractedText": "...",
      "processedData": {
        "invoiceNumber": "INV-001",
        "date": "2025-01-10",
        "supplier": {
          "name": "CÃ´ng ty ABC",
          "address": "123 ÄÆ°á»ng XYZ"
        },
        "items": [
          {
            "name": "Xi mÄƒng PC40",
            "quantity": 100,
            "unitPrice": 2000000,
            "unit": "bag",
            "total": 200000000
          }
        ],
        "totals": {
          "subtotal": 200000000,
          "tax": 20000000,
          "total": 220000000
        }
      },
      "confidence": 0.92
    },
    "draftInvoice": {
      "id": "...",
      "invoiceNumber": "INV-001",
      "status": "DRAFT"
    },
    "requiresReview": false
  }
}
```

## ğŸ“ Best Practices

### Äá»ƒ CÃ³ Káº¿t Quáº£ Tá»‘t Nháº¥t

1. **Cháº¥t lÆ°á»£ng áº£nh**
   - Äá»™ phÃ¢n giáº£i cao (Ã­t nháº¥t 1080p)
   - Ãnh sÃ¡ng tá»± nhiÃªn hoáº·c Ä‘Ã¨n LED tráº¯ng
   - KhÃ´ng cÃ³ bÃ³ng má» che chá»¯

2. **GÃ³c chá»¥p**
   - Chá»¥p tháº³ng gÃ³c 90Â°
   - HÃ³a Ä‘Æ¡n náº±m trong khung guide
   - KhÃ´ng bá»‹ biáº¿n dáº¡ng, nghiÃªng

3. **Loáº¡i hÃ³a Ä‘Æ¡n**
   - âœ… Tá»‘t: HÃ³a Ä‘Æ¡n in mÃ¡y tÃ­nh, font chá»¯ rÃµ rÃ ng
   - âš ï¸ Táº¡m: HÃ³a Ä‘Æ¡n viáº¿t tay Ä‘áº¹p
   - âŒ KÃ©m: Chá»¯ viáº¿t tay xáº¥u, má» nhÃ²e

4. **Kiá»ƒm tra sau quÃ©t**
   - LuÃ´n xem láº¡i káº¿t quáº£ trÆ°á»›c khi lÆ°u
   - Äá»‘i chiáº¿u sá»‘ liá»‡u vá»›i hÃ³a Ä‘Æ¡n gá»‘c
   - Sá»­a lá»—i nhá» thay vÃ¬ quÃ©t láº¡i

### Xá»­ LÃ½ Lá»—i ThÆ°á»ng Gáº·p

**"KhÃ´ng thá»ƒ xá»­ lÃ½ hÃ¬nh áº£nh"**
- Kiá»ƒm tra káº¿t ná»‘i internet
- Äáº£m báº£o backend API Ä‘ang cháº¡y
- Thá»­ láº¡i sau vÃ i giÃ¢y

**"Äá»™ chÃ­nh xÃ¡c tháº¥p"**
- Chá»¥p láº¡i vá»›i Ã¡nh sÃ¡ng tá»‘t hÆ¡n
- Äáº£m báº£o hÃ³a Ä‘Æ¡n náº±m tháº³ng
- Thá»­ dÃ¹ng áº£nh tá»« thÆ° viá»‡n náº¿u cÃ³ áº£nh tá»‘t hÆ¡n

**"KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m"**
- BÃ¬nh thÆ°á»ng! Sáº£n pháº©m má»›i sáº½ Ä‘Æ°á»£c táº¡o tá»± Ä‘á»™ng
- Review vÃ  active sáº£n pháº©m má»›i sau

## ğŸ” Báº£o Máº­t & Privacy

- âœ… áº¢nh Ä‘Æ°á»£c mÃ£ hÃ³a khi upload
- âœ… LÆ°u trÃªn server an toÃ n
- âœ… Chá»‰ admin/manager má»›i truy cáº­p Ä‘Æ°á»£c
- âš ï¸ KhÃ´ng quÃ©t thÃ´ng tin cÃ¡ nhÃ¢n nháº¡y cáº£m
- âš ï¸ XÃ³a áº£nh gá»‘c sau khi xá»­ lÃ½ xong

## ğŸ“± YÃªu Cáº§u Há»‡ Thá»‘ng

- **Android**: 5.0+ (API 21+), camera Ã­t nháº¥t 8MP
- **iOS**: 13.0+, camera Ã­t nháº¥t 8MP
- **Network**: Cáº§n káº¿t ná»‘i internet Ä‘á»ƒ xá»­ lÃ½
- **Storage**: ~50MB cho cache áº£nh táº¡m

## ğŸ› Troubleshooting

### Camera khÃ´ng má»Ÿ Ä‘Æ°á»£c
```
1. Kiá»ƒm tra quyá»n camera trong Settings
2. Restart app
3. Restart device
```

### Upload tháº¥t báº¡i
```
1. Kiá»ƒm tra káº¿t ná»‘i internet
2. Kiá»ƒm tra backend API Ä‘ang cháº¡y
3. Thá»­ vá»›i áº£nh nhá» hÆ¡n (<5MB)
```

### Káº¿t quáº£ sai hoÃ n toÃ n
```
1. Äáº£m báº£o chá»n Ä‘Ãºng loáº¡i quÃ©t (HÃ³a Ä‘Æ¡n / VÄƒn báº£n)
2. Chá»¥p láº¡i vá»›i cháº¥t lÆ°á»£ng tá»‘t hÆ¡n
3. LiÃªn há»‡ support náº¿u váº«n lá»—i
```

## ğŸ“ Há»— Trá»£

Náº¿u gáº·p váº¥n Ä‘á»:
1. Check README.md vÃ  SETUP.md
2. Xem logs trong terminal
3. LiÃªn há»‡ team support

---

**ChÃºc báº¡n quÃ©t hÃ³a Ä‘Æ¡n hiá»‡u quáº£! ğŸ“·âœ¨**
